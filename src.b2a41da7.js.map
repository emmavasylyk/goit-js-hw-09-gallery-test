{"version":3,"sources":["js/app.js","index.js"],"names":["galleryItems","preview","original","description","galleryContainer","document","querySelector","lightboxContainer","closeBtnModal","overlay","ligthImage","galleryCardsMarkup","createGalleryCardsMarkup","images","map","join","ligthImageAttributs","src","alt","setAttribute","onGalleryContainerClick","e","preventDefault","window","addEventListener","onEcsKeyPress","handleKeydown","target","nodeName","classList","add","dataset","source","onCloseBtnModal","remove","removeEventListener","code","currentIndex","findIndex","img","nextIndex","previousIndex","length","insertAdjacentHTML"],"mappings":";;;AAAA,MAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAmBC,SAASC,cAAc,eAC1CC,EAAoBF,SAASC,cAAc,gBAC3CE,EAAgBH,SAASC,cAAc,kCACvCG,EAAUJ,SAASC,cAAc,sBACjCI,EAAaL,SAASC,cAAc,oBAGpCK,EAAqBC,EAAyBZ,GAQpD,SAASY,EAAyBC,GACzBA,OAAAA,EAAOC,IAAI,EAAGb,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,gFAI9BD,6DAGCD,0BACQC,kBACRC,qCAKRY,KAAK,IAEV,SAASC,EAAoBC,EAAKC,GAChCR,EAAWS,aAAa,MAAOF,GAC/BP,EAAWS,aAAa,MAAOD,GAGjC,SAASE,EAAwBC,GAC/BA,EAAEC,iBACFC,OAAOC,iBAAiB,UAAWC,GACnCF,OAAOC,iBAAiB,UAAWE,GAGT,QAAtBL,EAAEM,OAAOC,WAGbrB,EAAkBsB,UAAUC,IAAI,WAEhCd,EAAoBK,EAAEM,OAAOI,QAAQC,OAAQX,EAAEM,OAAOT,MAIxD,SAASe,IACP1B,EAAkBsB,UAAUK,OAAO,WACnClB,EAAoB,IAAK,KACzBO,OAAOY,oBAAoB,UAAWV,GACtCF,OAAOY,oBAAoB,UAAWT,GAKxC,SAASD,EAAcJ,GACN,WAAXA,EAAEe,MAGNH,IAMF,SAASP,EAAcL,GACjBgB,IAAAA,EAAerC,EAAasC,UAAUC,GAAOA,EAAIrC,WAAaQ,EAAWO,KAEzEuB,EAAYH,EAAe,EAC3BI,EAAgBJ,EAAe,EACpB,eAAXhB,EAAEe,OACAI,GAAaxC,EAAa0C,SAC5BF,EAAY,GAEd9B,EAAWO,IAAMjB,EAAawC,GAAWtC,UAE5B,cAAXmB,EAAEe,OACAK,EAAgB,IAClBA,EAAgBzC,EAAa0C,OAAS,GAExChC,EAAWO,IAAMjB,EAAayC,GAAevC,UA7EjDE,EAAiBuC,mBAAmB,YAAahC,GAEjDP,EAAiBoB,iBAAiB,QAASJ,GAC3CZ,EAAcgB,iBAAiB,QAASS,GAwDxCxB,EAAQe,iBAAiB,QAASS;;ACrIlC,aADA,QAAA,oBACA,QAAA","file":"src.b2a41da7.js","sourceRoot":"..\\src","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\nconst galleryContainer = document.querySelector('.js-gallery')\r\nconst lightboxContainer = document.querySelector('.js-lightbox')\r\nconst closeBtnModal = document.querySelector('[data-action=\"close-lightbox\"]')\r\nconst overlay = document.querySelector('.lightbox__overlay')\r\nconst ligthImage = document.querySelector('.lightbox__image')\r\n\r\n\r\nconst galleryCardsMarkup = createGalleryCardsMarkup(galleryItems)\r\n\r\ngalleryContainer.insertAdjacentHTML('beforeend', galleryCardsMarkup)\r\n\r\ngalleryContainer.addEventListener('click', onGalleryContainerClick)\r\ncloseBtnModal.addEventListener('click', onCloseBtnModal)\r\n\r\n\r\nfunction createGalleryCardsMarkup(images) {\r\n  return images.map(({ preview, original, description }) => {\r\n    return `\r\n  <li class=\"gallery__item\">\r\n    <a class=\"gallery__link\"\r\n    href=\"${original}\">\r\n      <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n      />\r\n    </a>\r\n  </li>\r\n`\r\n  }).join('')\r\n}\r\nfunction ligthImageAttributs(src, alt) {\r\n  ligthImage.setAttribute('src', src)\r\n  ligthImage.setAttribute('alt', alt)\r\n}\r\n\r\nfunction onGalleryContainerClick(e) {\r\n  e.preventDefault()\r\n  window.addEventListener('keydown', onEcsKeyPress)\r\n  window.addEventListener('keydown', handleKeydown)\r\n\r\n\r\n  if (e.target.nodeName !== 'IMG') {\r\n    return\r\n  }\r\n  lightboxContainer.classList.add('is-open')\r\n\r\n  ligthImageAttributs(e.target.dataset.source, e.target.alt)\r\n\r\n}\r\n\r\nfunction onCloseBtnModal() {\r\n  lightboxContainer.classList.remove('is-open')\r\n  ligthImageAttributs(' ', ' ')\r\n  window.removeEventListener('keydown', onEcsKeyPress)\r\n  window.removeEventListener('keydown', handleKeydown)\r\n}\r\n\r\n\r\n\r\nfunction onEcsKeyPress(e) {\r\n  if (e.code !== 'Escape') {\r\n    return\r\n  }\r\n  onCloseBtnModal()\r\n}\r\n\r\noverlay.addEventListener('click', onCloseBtnModal)\r\n\r\n\r\nfunction handleKeydown(e) {\r\n  let currentIndex = galleryItems.findIndex(img => img.original === ligthImage.src)\r\n\r\n  let nextIndex = currentIndex + 1;\r\n  let previousIndex = currentIndex - 1;\r\n  if (e.code === 'ArrowRight') {\r\n    if (nextIndex >= galleryItems.length) {\r\n      nextIndex = 0;\r\n    }\r\n    ligthImage.src = galleryItems[nextIndex].original;\r\n  }\r\n  if (e.code === 'ArrowLeft') {\r\n    if (previousIndex < 0) {\r\n      previousIndex = galleryItems.length - 1;\r\n    }\r\n    ligthImage.src = galleryItems[previousIndex].original;\r\n  }\r\n}\r\n","import './sass/main.scss';\nimport './js/app'\n"]}